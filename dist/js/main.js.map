{"version":3,"sources":["main.js"],"names":["TodoList","items","showCompleted","$todoListUL","document","querySelector","$doneCounter","$totalCounter","$newItemElement","addEventListener","event","key","push","TodoItem","currentTarget","value","render","$showCompletedCheckbox","e","checked","window","bind","forEach","item","done","$element","remove","appendChild","innerText","length","filter","text","createElement","$p","$doneButton","toggleDone","dispatchEvent","Event","className","todoList"],"mappings":"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","file":"main.js","sourcesContent":["class TodoList {\n\tconstructor() {\n\t\tthis.items = [];\n\t\tthis.showCompleted = true;\n\t\t\n\t\tthis.$todoListUL = document.querySelector('.todo ul')\n\t\tthis.$doneCounter = document.querySelector('.todo .done')\n\t\tthis.$totalCounter = document.querySelector('.todo .total')\n\t\t\n\t\tlet $newItemElement = document.querySelector('[name=\"new-item\"]');\n\t\t$newItemElement.addEventListener('keyup', (event) => {\n\t\t\tif (event.key !== 'Enter') return false;\n\t\t\tthis.items.push( new TodoItem(event.currentTarget.value) );\n\t\t\tevent.currentTarget.value = '';\n\t\t\tthis.render()\n\t\t})\n\n\t\tlet $showCompletedCheckbox = document.querySelector('[name=\"show-completed\"]');\n\t\t$showCompletedCheckbox.addEventListener('change', (e) => {\n\t\t\tthis.showCompleted = $showCompletedCheckbox.checked;\n\t\t\tthis.render()\n\t\t})\n\n\t\t// listen for change events coming from the child TodoItems\n\t\twindow.addEventListener('itemchanged', this.render.bind(this))\n\t\tthis.render()\n\t}\n\n\t// the render function handles putting the items in the DOM. \n\t// everything inside each item is handled by its own render function\n\trender() {\n\t\tthis.items.forEach((item) => {\n\t\t\tif (item.done && !this.showCompleted) {\n\t\t\t\titem.$element.remove()\n\t\t\t} else {\n\t\t\t\tthis.$todoListUL.appendChild(item.$element)\n\t\t\t}\n\t\t})\n\t\tthis.$totalCounter.innerText = this.items.length;\n\t\tthis.$doneCounter.innerText = this.items.filter((item) => item.done).length;\n\t}\n}\n\n\n\n\nclass TodoItem {\n\tconstructor(text) {\n\n\t\tthis.text = text;\n\t\tthis.done = false;\n\t\t\n\t\tthis.$element = document.createElement('li');\n\t\t\n\t\tthis.$p = document.createElement('p');\n\t\tthis.$p.innerText = this.text;\n\t\tthis.$element.appendChild(this.$p);\n\t\t\n\t\tthis.$doneButton = document.createElement('button');\n\t\tthis.$doneButton.innerText = 'Done';\n\t\tthis.$element.appendChild(this.$doneButton);\n\t\tthis.$doneButton.addEventListener('click', this.toggleDone.bind(this));\n\n\t}\n\t\n\ttoggleDone() {\n\t\tthis.done = !this.done;\n\t\tthis.render();\n\t\twindow.dispatchEvent(new Event('itemchanged'))\n\t}\n\n\t// the render function handles the DOM representation of this item's data.\n\trender() {\n\t\tthis.$doneButton.innerText = this.done ? 'Undo' : 'Done';\n\t\tthis.$element.className = this.done ? 'done' : '';\n\t}\n}\n\n\nlet todoList = new TodoList();"]}