{"version":3,"sources":["main.js"],"names":["TodoList","items","forEach","item","done","showCompleted","$element","remove","$todoListUL","appendChild","$totalCounter","innerText","length","$doneCounter","filter","document","querySelector","$newItemElement","addEventListener","event","key","newItem","TodoItem","currentTarget","value","push","render","$showCompletedCheckbox","e","checked","window","text","dispatchEvent","Event","$doneButton","className","createElement","$p","toggleDone","todoList"],"mappings":"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","sourcesContent":["class TodoList {\n\tconstructor() {\n\t\tthis.items = [];\n\t\tthis.showCompleted = true;\n\t\t\n\t\tthis.$todoListUL = document.querySelector('.todo ul')\n\t\tthis.$doneCounter = document.querySelector('.todo .done')\n\t\tthis.$totalCounter = document.querySelector('.todo .total')\n\t\t\n\t\tlet $newItemElement = document.querySelector('[name=\"new-item\"]');\n\t\t$newItemElement.addEventListener('keyup', (event) => {\n\t\t\tif (event.key !== 'Enter') return false;\n\t\t\t\n\t\t\tlet newItem = new TodoItem(event.currentTarget.value)\n\t\t\t// CALLBACK technique for inter-component communication (react style)\n\t\t\t// let newItem = new TodoItem(event.currentTarget.value, this.render)\n\n\t\t\tthis.items.push( newItem );\n\t\t\tevent.currentTarget.value = '';\n\t\t\tthis.render()\n\t\t}) \n\n\t\tlet $showCompletedCheckbox = document.querySelector('[name=\"show-completed\"]');\n\t\t$showCompletedCheckbox.addEventListener('change', (e) => {\n\t\t\tthis.showCompleted = $showCompletedCheckbox.checked;\n\t\t\tthis.render()\n\t\t})\n\n\t\t// EVENT technique for inter-component communication (vue style)\n\t\t// listen for change events coming from the child TodoItems\n\t\twindow.addEventListener('itemchanged', this.render)\n\n\t}\n\n\t// the render function handles putting the items in the DOM (or not). \n\t// everything inside each item is handled by its own render function\n\trender = () => {\n\t\tthis.items.forEach((item) => {\n\t\t\tif (item.done && !this.showCompleted) {\n\t\t\t\titem.$element.remove()\n\t\t\t} else {\n\t\t\t\tthis.$todoListUL.appendChild(item.$element)\n\t\t\t}\n\t\t})\n\t\tthis.$totalCounter.innerText = this.items.length;\n\t\tthis.$doneCounter.innerText = this.items.filter((item) => item.done).length;\n\t}\n}\n\n\n\n\nclass TodoItem {\n\tconstructor(text/*, parentRenderCallback*/) {\n\n\t\tthis.text = text;\n\t\tthis.done = false;\n\t\t\n\t\t// CALLBACK technique for inter-component communication (react style)\n\t\t// this.parentRenderCallback = parentRenderCallback;\n\n\t\tthis.$element = document.createElement('li');\n\t\t\n\t\tthis.$p = document.createElement('p');\n\t\tthis.$p.innerText = this.text;\n\t\tthis.$element.appendChild(this.$p);\n\t\t\n\t\tthis.$doneButton = document.createElement('button');\n\t\tthis.$doneButton.innerText = 'Done';\n\t\tthis.$element.appendChild(this.$doneButton);\n\t\tthis.$doneButton.addEventListener('click', this.toggleDone);\n\n\t}\n\t\n\ttoggleDone = () => {\n\t\tthis.done = !this.done;\n\t\tthis.render();\n\n\t\t// EVENT technique for inter-component communication (vue style)\n\t\t// dispatch and event so that parent component can know when this child component changed, so it needs to update\t\n\t\twindow.dispatchEvent(new Event('itemchanged'))\n\t\t\n\t\t// CALLBACK technique for inter-component communication (react style)\n\t\t// something changed in this component, and the parent component needs to know it, so we call the provided \"callback\" function\n\t\t// this.parentRenderCallback()\n\t}\n\n\t// the render function handles the DOM representation of this item's data.\n\trender = () => {\n\t\tthis.$doneButton.innerText = this.done ? 'Undo' : 'Done';\n\t\tthis.$element.className = this.done ? 'done' : '';\n\t}\n}\n\n\nlet todoList = new TodoList();"],"file":"main.js"}